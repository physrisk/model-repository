<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<title>Minority game (competition)</title>
    <link rel="stylesheet" type="text/css" href="../js-lib/normalize.css">
	<script language="javascript" type="text/javascript" src="../js-lib/jquery-183.min.js"></script>
	<style type="text/css">
		input,select,button{box-sizing:border-box;height:20px;line-height:20px;padding:0 6px;border:1px solid #999;}
		#gui{max-width:495px;}
		* {margin:0;padding:0}
		.controlBlock{display:inline-block;margin-left:10px}
		.guiBlock{background:#eee;border:1px solid #ccc;margin-bottom:5px;}
		.blockHeader{font-weight:bold;font-size:1.5em}
		.blockSubHeader{font-size:1.2em}
		.blockContent {text-align:center}
		.blockContent img {width:90px;height:90px;margin:2px}
		#history .blockContent img:last-child, #actions .blockContent img:last-child {width:90px;height:90px;margin:1px;border:1px solid #000;}
		#current{background:transparent;border:0}
		#current .blockContent img:hover{cursor:pointer;border:1px solid #ccc;}
		#gui button {width:135px}
	</style>
</head>
<body>
<div id="gui">
	<div class="guiBlock" id="history">
		<div class="blockHeader">Majority visited...</div>
		<div class="blockContent"></div>
	</div>
	<div class="guiBlock" id="actions">
		<div class="blockHeader">Player actions</div>
		<div class="blockContent"></div>
		<div class="blockSubHeader">Score: <span id="score">0</span>; evening: <span id="time">0</span>.</div>
	</div>
	<div class="guiBlock" id="current">
		<div class="blockHeader">Where shall we go to this evening?</div>
		<div class="blockContent">
			<img id="positiveAction" src="images/el-farol.png"/>
			<img id="negativeAction" src="images/home.png"/>
		</div>
	</div>
</div>
<script type="text/javascript">
function getRankBest() {
    var rank=nParticles+1;
    var best=score;
    for(var i=0;i<nParticles;i++) {
        if(allAgents[i].score<=score) rank--;
        if(allAgents[i].score>best) best=allAgents[i].score;
    }
    if(rank==1) return ordinal_suffix_of(1);
    else {
        return ordinal_suffix_of(rank)+"; "+best;
    }
}

function ordinal_suffix_of(i) {
    var j = i % 10,
        k = i % 100;
    if (j == 1 && k != 11) {
        return i + "st";
    }
    if (j == 2 && k != 12) {
        return i + "nd";
    }
    if (j == 3 && k != 13) {
        return i + "rd";
    }
    return i + "th";
}
</script>
<script type="text/javascript" src="./minority-human.js"></script>
</body>
</html>
